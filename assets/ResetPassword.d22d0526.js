import{r as c,U as g,b as S,j as a,F as y,a as e}from"./index.b267ccbb.js";import{M as C}from"./MainHeader.1e4040be.js";import{C as k}from"./Container.ec1b4897.js";import{C as u}from"./Card.f8854b59.js";import{A as h,F as l,B as N}from"./Form.22ee1a94.js";import"./createWithBsPrefix.414b4e56.js";function E(){const s=c.exports.useRef(),[n,t]=c.exports.useState(""),[i,r]=c.exports.useState(!1),[d,o]=c.exports.useState(""),{sendResetPasswordLink:m}=g(),p=()=>{t("")},f=()=>{o("")};async function b(w){w.preventDefault(),r(!0);const x=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!(s!=null&&s.current.value)||!x.test(s.current.value))return r(!1),t("Invalid email");try{t(""),await m(s.current.value),o("Email sent please check inbox")}catch(v){switch(v.code){case"auth/user-not-found":t("User not found, there is no account with the provided email.");break;default:t("Unable to send reset link to provided email.")}r(!1)}}return{emailRef:s,error:n,loading:i,success:d,handleSubmit:b,resetError:p,resetSuccess:f}}function A(){const{emailRef:s,error:n,loading:t,success:i,handleSubmit:r,resetError:d,resetSuccess:o}=E(),m=S();return a(y,{children:[e(C,{}),e(k,{className:"d-flex mt-5 justify-content-center",style:{minHeight:"100vh"},children:a("div",{className:"w-100",style:{maxWidth:"450px"},children:[e(u,{className:"p-2",children:a(u.Body,{children:[e("h2",{className:"text-center mb-4",children:"Reset Password"}),n&&e(h,{variant:"danger",onClose:d,dismissible:!0,children:n}),i&&e(h,{variant:"success",onClose:o,dismissible:!0,children:i}),a(l,{onSubmit:r,children:[a(l.Group,{className:"mb-3",children:[e(l.Label,{children:"Email"}),e(l.Control,{type:"email",ref:s,autoComplete:"email",required:!0}),e("p",{style:{fontSize:"12px",marginTop:"5px"},children:"Email might be in the spam folder"})]}),e(N,{disabled:t,className:"w-100 mt-3 mb-3",type:"submit",children:"Send Reset Link"})]})]})}),e("p",{role:"button",className:"w-100 text-center mt-2 link-primary ",onClick:()=>m(-1),children:e("u",{children:"Go back?"})})]})})]})}export{A as default};
