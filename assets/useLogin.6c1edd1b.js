import{r as t,U as h,b as w,a as u,F as b}from"./index.b267ccbb.js";import{A as y}from"./Form.22ee1a94.js";function E(c){const r=t.exports.useRef(),o=t.exports.useRef(),[s,e]=t.exports.useState(""),[d,a]=t.exports.useState(!1),{logIn:m}=h(),n=w();async function p(f){f.preventDefault(),e(""),a(!0);const i=r.current.value.trim(),l=o.current.value;if(l<6)return a(!1),e("Please provide a valid Password.");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(i.trim()))return a(!1),e("Please provide a valid Email.");try{await m(i.trim(),l.trim()),n(c==="student"?"/student-profile":"/teacher-profile")}catch(g){switch(g.code){case"auth/user-not-found":{e("A username with this email doesn't exist, try signing up instead.");break}case"auth/wrong-password":{e("Wrong password please try again.");break}case"auth/too-many-requests":{e("Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later.");break}case"auth/user-disabled":{e("Account has been disabled.");break}default:e("Failed to login.")}a(!1)}}return{emailRef:r,passwordRef:o,error:s,loading:d,handleLogin:p,alert:u(b,{children:s&&u(y,{variant:"danger",onClose:()=>e(""),dismissible:!0,children:s})})}}export{E as u};
