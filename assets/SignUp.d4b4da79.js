import{r as n,U as S,u as U,j as e,F as A,a,L as F}from"./index.c869ee31.js";import{A as P,F as t}from"./Form.27fcce9e.js";import{C as q}from"./Container.2bd40c5e.js";import{C}from"./Card.f2253044.js";import{B as E}from"./Button.b82bb83e.js";function G(){const l=n.exports.useRef(),o=n.exports.useRef(),i=n.exports.useRef(),m=n.exports.useRef(),c=n.exports.useRef(),[u,r]=n.exports.useState(""),[f,s]=n.exports.useState(!1),{createStudentAccount:v}=S(),b=U();async function x(R){R.preventDefault(),r(""),s(!0);const w=i.current.value.trim(),p=m.current.value,y=c.current.value,h=l.current.value.trim(),g=o.current.value.trim();if(p.length<6)return s(!1),r("Weak Password.");if(p!==y)return s(!1),r("Passwords do not match.");if(h.length<2||g.length<2)return s(!1),r("Please provide valid first and last names.");const N=/^[a-zA-Z ]+$/;if(!N.test(h.trim())||!N.test(g.trim()))return s(!1),r("First and Last name can only contain alphabetical values.");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(w.trim()))return s(!1),r("Please provide a valid Email.");const L={name:h.trim()+` ${g.trim()}`,email:w.trim(),password:p};try{const d=await v(L);d.status==="success"?b("/student-profile"):(s(!1),r(d.message))}catch(d){s(!1),r(d)}}return{firstNameRef:l,lastNameRef:o,emailRef:i,passwordRef:m,passwordConfirmRef:c,loading:f,handleSignUp:x,alert:e(A,{children:u&&e(P,{variant:"danger",onClose:()=>r(""),dismissible:!0,children:u})})}}function I(){const{firstNameRef:l,lastNameRef:o,emailRef:i,passwordRef:m,passwordConfirmRef:c,alert:u,loading:r,handleSignUp:f}=G();return e(q,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:a("div",{className:"w-100",style:{maxWidth:"450px"},children:[e(C,{className:"p-2",children:a(C.Body,{children:[e("h2",{className:"text-center mb-4",children:"Sign Up"}),u,a(t,{onSubmit:f,children:[a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"First Name"}),e(t.Control,{type:"name",ref:l,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Last Name"}),e(t.Control,{type:"name",ref:o,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Email"}),e(t.Control,{type:"email",ref:i,autoComplete:"email",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password"}),e(t.Control,{type:"password",ref:m,autoComplete:"current-password",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password Confirmation"}),e(t.Control,{type:"password",ref:c,autoComplete:"current-password",required:!0})]}),e(E,{disabled:r,className:"w-100 mt-3 mb-3",type:"submit",children:" Sign Up"})]})]})}),a("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",e(F,{to:"/student-login",children:"Log In"})]})]})})}export{I as default};
