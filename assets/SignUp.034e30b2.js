import{r as n,U as y,k as S,j as e,C as L,a,b as x,B as R,L as U}from"./index.593cf930.js";import{A,F as t}from"./Form.9a5b1867.js";function E(){const[u,s]=n.exports.useState(""),[m,r]=n.exports.useState(!1),[d,f]=n.exports.useState(""),{createStudentAccount:g}=y();async function b(p,o,w,l,i){if(s(""),r(!0),o.length<6)return r(!1),s("Weak Password.");if(o!==w)return r(!1),s("Passwords do not match.");if(l.length<2||i.length<2)return r(!1),s("Please provide valid first and last names.");const c=/^[a-zA-Z ]+$/;if(!c.test(l.trim())||!c.test(i.trim()))return r(!1),s("First and Last name can only contain alphabetical values.");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(p.trim()))return r(!1),s("Please provide a valid Email.");const C={name:l.trim()+` ${i.trim()}`,email:p.trim(),password:o};try{const h=await g(C);h.status==="success"?f("success"):(r(!1),s(h.message))}catch(h){r(!1),s(h)}}return{error:u,loading:m,handleSignUp:b,status:d}}function G(){const u=n.exports.useRef(),s=n.exports.useRef(),m=n.exports.useRef(),r=n.exports.useRef(),d=n.exports.useRef(),{error:f,loading:g,handleSignUp:b,status:p}=E(),o=S();async function w(l){l.preventDefault();const i=m.current.value.trim(),c=r.current.value,v=d.current.value,N=u.current.value.trim(),C=s.current.value.trim();console.table(c,v),await b(i,c,v,N,C),p==="success"&&o("/student-profile")}return e(L,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:a("div",{className:"w-100",style:{maxWidth:"450px"},children:[e(x,{className:"p-2",children:a(x.Body,{children:[e("h2",{className:"text-center mb-4",children:"Sign Up"}),f&&e(A,{variant:"danger",onClose:()=>setError(""),dismissible:!0,children:f}),a(t,{onSubmit:w,children:[a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"First Name"}),e(t.Control,{type:"name",ref:u,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Last Name"}),e(t.Control,{type:"name",ref:s,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Email"}),e(t.Control,{type:"email",ref:m,autoComplete:"email",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password"}),e(t.Control,{type:"password",ref:r,autoComplete:"current-password",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password Confirmation"}),e(t.Control,{type:"password",ref:d,autoComplete:"current-password",required:!0})]}),e(R,{disabled:g,className:"w-100 mt-3 mb-3",type:"submit",children:" Sign Up"})]})]})}),a("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",e(U,{to:"/student-login",children:"Log In"})]})]})})}export{G as default};
