import{r as n,U,b as A,a as e,F as C,j as a,L as F}from"./index.b267ccbb.js";import{A as P,F as t,B as q}from"./Form.22ee1a94.js";import{M as E}from"./MainHeader.1e4040be.js";import{C as G}from"./Container.ec1b4897.js";import{C as b}from"./Card.f8854b59.js";import"./createWithBsPrefix.414b4e56.js";function j(){const o=n.exports.useRef(),l=n.exports.useRef(),i=n.exports.useRef(),m=n.exports.useRef(),c=n.exports.useRef(),[u,r]=n.exports.useState(""),[f,s]=n.exports.useState(!1),{createStudentAccount:v}=U(),x=A();async function R(y){y.preventDefault(),r(""),s(!0);const w=i.current.value.trim(),p=m.current.value,L=c.current.value,h=o.current.value.trim(),g=l.current.value.trim();if(p.length<6)return s(!1),r("Weak Password.");if(p!==L)return s(!1),r("Passwords do not match.");if(h.length<2||g.length<2)return s(!1),r("Please provide valid first and last names.");const N=/^[a-zA-Z ]+$/;if(!N.test(h.trim())||!N.test(g.trim()))return s(!1),r("First and Last name can only contain alphabetical values.");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(w.trim()))return s(!1),r("Please provide a valid Email.");const S={name:h.trim()+` ${g.trim()}`,email:w.trim(),password:p};try{const d=await v(S);d.status==="success"?x("/student-profile"):(s(!1),r(d.message))}catch(d){s(!1),r(d)}}return{firstNameRef:o,lastNameRef:l,emailRef:i,passwordRef:m,passwordConfirmRef:c,loading:f,handleSignUp:R,alert:e(C,{children:u&&e(P,{variant:"danger",onClose:()=>r(""),dismissible:!0,children:u})})}}function Z(){const{firstNameRef:o,lastNameRef:l,emailRef:i,passwordRef:m,passwordConfirmRef:c,alert:u,loading:r,handleSignUp:f}=j();return a(C,{children:[e(E,{}),e(G,{className:"d-flex mt-5 justify-content-center",style:{minHeight:"80vh"},children:a("div",{className:"w-100 mb-3",style:{maxWidth:"450px"},children:[e(b,{className:"p-2",children:a(b.Body,{children:[e("h2",{className:"text-center mb-4",children:"Sign Up"}),u,a(t,{onSubmit:f,children:[a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"First Name"}),e(t.Control,{type:"name",ref:o,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Last Name"}),e(t.Control,{type:"name",ref:l,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Email"}),e(t.Control,{type:"email",ref:i,autoComplete:"email",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password"}),e(t.Control,{type:"password",ref:m,autoComplete:"current-password",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password Confirmation"}),e(t.Control,{type:"password",ref:c,autoComplete:"current-password",required:!0})]}),e(q,{disabled:r,className:"w-100 mt-3 mb-3",type:"submit",children:" Sign Up"})]})]})}),a("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",e(F,{to:"/student-login",children:"Log In"})]})]})})]})}export{Z as default};
