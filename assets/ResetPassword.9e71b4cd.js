import{r,U as b,j as e,C as w,a as n,b as d,B as v,L as g}from"./index.9c5752eb.js";import{A as m,F as i}from"./Form.d386e0c3.js";function S(){const s=r.exports.useRef(),[l,t]=r.exports.useState(""),[u,a]=r.exports.useState(!1),[c,o]=r.exports.useState(""),{sendResetPasswordLink:h}=b();async function p(f){f.preventDefault(),a(!0);const x=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!(s!=null&&s.current.value)||!x.test(s.current.value))return a(!1),t("Invalid email");if(s.current.value.trim()==="12@12.com")return a(!1),t("Can't reset the password of a demo account.");try{t(""),await h(s.current.value),o("Email sent please check inbox")}catch{a(!1),t("Failed to send link")}}return e(w,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:n("div",{className:"w-100",style:{maxWidth:"450px"},children:[e(d,{className:"p-2",children:n(d.Body,{children:[e("h2",{className:"text-center mb-4",children:"Reset Password"}),l&&e(m,{variant:"danger",onClose:()=>t(""),dismissible:!0,children:l}),c&&e(m,{variant:"success",onClose:()=>o(""),dismissible:!0,children:c}),n(i,{onSubmit:p,children:[n(i.Group,{className:"mb-3",children:[e(i.Label,{children:"Email"}),e(i.Control,{type:"email",ref:s,autoComplete:"email",required:!0}),e("p",{style:{fontSize:"12px",marginTop:"5px"},children:"Email might be in the spam folder"})]}),e(v,{disabled:u,className:"w-100 mt-3 mb-3",type:"submit",children:"Send Reset Link"})]})]})}),e("div",{className:"w-100 text-center mt-2",children:e(g,{to:"/grades-portal",children:"Go back?"})})]})})}export{S as default};
