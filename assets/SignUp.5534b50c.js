import{r as n,U as y,u as S,j as e,a,L}from"./index.965fb01d.js";import{C as R}from"./Container.3c6c2f9a.js";import{C as x}from"./Card.bd411804.js";import{A as U,F as t}from"./Form.a3c4f30d.js";import{B as A}from"./Button.152fd113.js";function E(){const[u,r]=n.exports.useState(""),[m,s]=n.exports.useState(!1),[d,f]=n.exports.useState(""),{createStudentAccount:g}=y();async function w(p,o,b,l,i){if(r(""),s(!0),o.length<6)return s(!1),r("Weak Password.");if(o!==b)return s(!1),r("Passwords do not match.");if(l.length<2||i.length<2)return s(!1),r("Please provide valid first and last names.");const c=/^[a-zA-Z ]+$/;if(!c.test(l.trim())||!c.test(i.trim()))return s(!1),r("First and Last name can only contain alphabetical values.");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(p.trim()))return s(!1),r("Please provide a valid Email.");const C={name:l.trim()+` ${i.trim()}`,email:p.trim(),password:o};try{const h=await g(C);h.status==="success"?f("success"):(s(!1),r(h.message))}catch(h){s(!1),r(h)}}return{error:u,loading:m,handleSignUp:w,status:d}}function B(){const u=n.exports.useRef(),r=n.exports.useRef(),m=n.exports.useRef(),s=n.exports.useRef(),d=n.exports.useRef(),{error:f,loading:g,handleSignUp:w,status:p}=E(),o=S();async function b(l){l.preventDefault();const i=m.current.value.trim(),c=s.current.value,v=d.current.value,N=u.current.value.trim(),C=r.current.value.trim();console.table(c,v),await w(i,c,v,N,C),p==="success"&&o("/student-profile")}return e(R,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:a("div",{className:"w-100",style:{maxWidth:"450px"},children:[e(x,{className:"p-2",children:a(x.Body,{children:[e("h2",{className:"text-center mb-4",children:"Sign Up"}),f&&e(U,{variant:"danger",onClose:()=>setError(""),dismissible:!0,children:f}),a(t,{onSubmit:b,children:[a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"First Name"}),e(t.Control,{type:"name",ref:u,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Last Name"}),e(t.Control,{type:"name",ref:r,autoComplete:"username",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Email"}),e(t.Control,{type:"email",ref:m,autoComplete:"email",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password"}),e(t.Control,{type:"password",ref:s,autoComplete:"current-password",required:!0})]}),a(t.Group,{className:"mb-3",children:[e(t.Label,{children:"Password Confirmation"}),e(t.Control,{type:"password",ref:d,autoComplete:"current-password",required:!0})]}),e(A,{disabled:g,className:"w-100 mt-3 mb-3",type:"submit",children:" Sign Up"})]})]})}),a("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",e(L,{to:"/student-login",children:"Log In"})]})]})})}export{B as default};
