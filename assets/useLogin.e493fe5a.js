import{r as t,U as f,u as h,j as l,F as w}from"./index.5e4f7741.js";import{A as y}from"./Form.7ef707a3.js";function k(){const r=t.exports.useRef(),o=t.exports.useRef(),[s,e]=t.exports.useState(""),[u,a]=t.exports.useState(!1),{logIn:c}=f(),d=h();async function m(g){g.preventDefault(),e(""),a(!0);const n=r.current.value.trim(),i=o.current.value;if(i<6)return a(!1),e("Please provide a valid Password.");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(n.trim()))return a(!1),e("Please provide a valid Email.");try{await c(n.trim(),i.trim()),d("/student-profile")}catch(p){switch(p.code){case"auth/user-not-found":{e("A username with this email doesn't exist, try signing up instead.");break}case"auth/wrong-password":{e("Wrong password please try again.");break}case"auth/too-many-requests":{e("Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later.");break}case"auth/user-disabled":{e("Account has been disabled.");break}default:e("Failed to login.")}a(!1)}}return{emailRef:r,passwordRef:o,error:s,loading:u,handleLogin:m,alert:l(w,{children:s&&l(y,{variant:"danger",onClose:()=>e(""),dismissible:!0,children:s})})}}export{k as u};
