import{r as a,U as b,j as e,a as n,L as w}from"./index.965fb01d.js";import{C as v}from"./Container.3c6c2f9a.js";import{C as m}from"./Card.bd411804.js";import{A as d,F as i}from"./Form.a3c4f30d.js";import{B as g}from"./Button.152fd113.js";function L(){const t=a.exports.useRef(),[l,s]=a.exports.useState(""),[u,r]=a.exports.useState(!1),[o,c]=a.exports.useState(""),{sendResetPasswordLink:h}=b();async function p(f){f.preventDefault(),r(!0);const x=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(!(t!=null&&t.current.value)||!x.test(t.current.value))return r(!1),s("Invalid email");if(t.current.value.trim()==="12@12.com")return r(!1),s("Can't reset the password of a demo account.");try{s(""),await h(t.current.value),c("Email sent please check inbox")}catch{r(!1),s("Failed to send link")}}return e(v,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:n("div",{className:"w-100",style:{maxWidth:"450px"},children:[e(m,{className:"p-2",children:n(m.Body,{children:[e("h2",{className:"text-center mb-4",children:"Reset Password"}),l&&e(d,{variant:"danger",onClose:()=>s(""),dismissible:!0,children:l}),o&&e(d,{variant:"success",onClose:()=>c(""),dismissible:!0,children:o}),n(i,{onSubmit:p,children:[n(i.Group,{className:"mb-3",children:[e(i.Label,{children:"Email"}),e(i.Control,{type:"email",ref:t,autoComplete:"email",required:!0}),e("p",{style:{fontSize:"12px",marginTop:"5px"},children:"Email might be in the spam folder"})]}),e(g,{disabled:u,className:"w-100 mt-3 mb-3",type:"submit",children:"Send Reset Link"})]})]})}),e("div",{className:"w-100 text-center mt-2",children:e(w,{to:"/grades-portal",children:"Go back?"})})]})})}export{L as default};
